{
  "allowedTools": [
    "Edit",
    "Read",
    "Write",
    "MultiEdit",
    "Glob",
    "Grep",
    "Bash(git add:*)",
    "Bash(git commit:*)",
    "Bash(git status:*)",
    "Bash(git diff:*)",
    "Bash(git log:*)",
    "Bash(git branch:*)",
    "Bash(git checkout:*)",
    "Bash(git push:*)",
    "Bash(git pull:*)",
    "Bash(git fetch:*)",
    "Bash(git rebase:*)",
    "Bash(git stash:*)",
    "Bash(git worktree:*)",
    "Bash(python:*)",
    "Bash(python3:*)",
    "Bash(pip:*)",
    "Bash(pip3:*)",
    "Bash(uv:*)",
    "Bash(pytest:*)",
    "Bash(ruff:*)",
    "Bash(black:*)",
    "Bash(pyright:*)",
    "Bash(mypy:*)",
    "Bash(alembic:*)",
    "Bash(gh:*)",
    "Bash(npm:*)",
    "Bash(npx:*)",
    "Bash(node:*)",
    "Bash(tsc:*)",
    "Bash(eslint:*)",
    "Bash(prettier:*)",
    "Bash(find:*)",
    "Bash(grep:*)",
    "Bash(wc:*)",
    "Bash(head:*)",
    "Bash(tail:*)",
    "Bash(cat:*)",
    "Bash(ls:*)",
    "Bash(mkdir:*)",
    "Bash(touch:*)",
    "Bash(cp:*)",
    "Bash(mv:*)",
    "Bash(echo:*)",
    "Bash(date:*)",
    "Bash(jq:*)"
  ],
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/block-dangerous.sh",
            "description": "Block potentially dangerous bash commands"
          }
        ]
      },
      {
        "matcher": "Write|Edit|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/validate-planning.sh",
            "description": "Remind about planning before major changes"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit|Write|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/auto-format.sh",
            "description": "Auto-format code after edits"
          },
          {
            "type": "command",
            "command": ".claude/hooks/log-tool-usage.sh",
            "description": "Log tool usage for debugging"
          }
        ]
      },
      {
        "matcher": "Bash|Glob|Grep|Read",
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/log-tool-usage.sh",
            "description": "Log tool usage for debugging"
          }
        ]
      }
    ],
    "SubagentStop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bash -c 'input=$(cat); agent=$(echo \"$input\" | jq -r \".subagent_name // empty\"); ts=$(date +\"%H:%M:%S\"); echo \"[$ts] Subagent completed: $agent\" >> .claude/logs/subagent.log 2>/dev/null || true; echo \"{}\"'",
            "description": "Log subagent completions"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/session-tracker.sh",
            "description": "Track session activity"
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "hooks": [
          {
            "type": "command",
            "command": ".claude/hooks/save-context.sh",
            "description": "Save context snapshot before compaction"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bash -c 'input=$(cat); prompt=$(echo \"$input\" | jq -r \".prompt // empty\"); if [[ \"$prompt\" =~ (implement|build|create|add).*(feature|function|class|module) ]] && [[ ! \"$prompt\" =~ (plan|PRP|design|test) ]]; then echo \"ðŸ’¡ Tip: Consider running /project:plan first for structured implementation.\" >&2; fi; echo \"{}\"'",
            "description": "Remind about planning before implementation"
          }
        ]
      }
    ]
  }
}
